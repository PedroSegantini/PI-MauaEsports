<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel do Administrador - Mauá Esports</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="styles.css" rel="stylesheet" />
  </head>

  <body class="admin-body">
    <div class="container mt-5">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="admin-title">Painel de Administração Mauá Esports</h1>
        <a href="index.html" class="btn btn-primary">
          <i class="bi bi-box-arrow-left"></i> Sair
        </a>
      </div>

      <div
        class="card admin-card mb-4"
        id="text-editor-card"
        style="display: none"
      >
        <div class="card-header admin-card-header">
          <h3 class="mb-0">
            <i class="bi bi-pencil-square panel-icon"></i>
            Alterar Textos do Site
          </h3>
        </div>
        <div class="card-body">
          <form id="text-form">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="text-section" class="form-label"
                  >Seção do Texto:</label
                >
                <select
                  id="text-section"
                  class="form-select admin-form-control"
                  required
                >
                  <option value="">Selecione a seção</option>
                  <optgroup label="Quem Somos">
                    <option value="hero.title">Título Principal</option>
                    <option value="hero.subtitle">Subtítulo</option>
                    <option value="hero.description">Descrição</option>
                  </optgroup>
                  <optgroup label="Times">
                    <option value="times.title">Título</option>
                    <option value="times.subtitle">Subtítulo</option>
                    <option value="times.description">Descrição</option>
                  </optgroup>
                  <optgroup label="Campeonatos">
                    <option value="campeonatos.title">Título</option>
                  </optgroup>
                </select>
              </div>
            </div>
            <div class="mb-3">
              <label for="current-text" class="form-label">Texto atual:</label>
              <textarea
                type="text"
                class="form-control admin-form-control"
                id="current-text"
                rows="3"
                readonly
              >
              </textarea>
            </div>
            <div class="mb-3">
              <label for="new-text" class="form-label">Novo Texto:</label>
              <textarea
                class="form-control admin-form-control"
                id="new-text"
                rows="3"
                placeholder="Digite o novo texto aqui..."
                required
              ></textarea>
            </div>
            <button type="submit" class="btn btn-primary">
              <i class="bi bi-check-circle"></i> Atualizar Texto
            </button>
          </form>
          <div id="text-status" class="status-display" style="display: none">
            <div class="alert" id="text-alert"></div>
          </div>
        </div>
      </div>

      <div
        class="card admin-card mb-4"
        id="role-assignment-card"
        style="display: none"
      >
        <div class="card-header admin-card-header">
          <h3 class="mb-0">
            <i class="bi bi-person-gear panel-icon"></i>
            Atribuição de Cargos
          </h3>
        </div>
        <div class="card-body">
          <form id="role-form">
            <div class="row">
              <div class="col-md-8 mb-3">
                <label for="ra" class="form-label">RA:</label>
                <input
                  type="text"
                  class="form-control admin-form-control"
                  id="ra"
                  placeholder="2x.xxx-x"
                  required
                />
              </div>
              <div class="col-md-8 mb-3">
                <label for="discord-id" class="form-label">Discord ID:</label>
                <input
                  type="text"
                  class="form-control admin-form-control"
                  id="discord-id"
                  placeholder="123123123123123123"
                  required
                />
              </div>
              <div class="col-md-8 mb-3">
                <label for="modality-id" class="form-label">Modality ID:</label>
                <input
                  type="text"
                  class="form-control admin-form-control"
                  id="modality-id"
                  placeholder="abc304dkj813as"
                  required
                />
              </div>
              <div class="col-md-8 mb-3">
                <label for="user-email" class="form-label"
                  >Email do Usuário:</label
                >
                <input
                  type="email"
                  class="form-control admin-form-control"
                  id="user-email"
                  placeholder="usuario@maua.br"
                  required
                />
              </div>
              <div class="col-md-4 mb-3">
                <label for="user-role" class="form-label">Cargo:</label>
                <select
                  id="user-role"
                  class="form-select admin-form-control"
                  required
                >
                  <option value="">Selecione o cargo</option>
                  <option value="admin">Administrador</option>
                  <option value="captain">Capitão</option>
                  <option value="player">Jogador</option>
                </select>
              </div>
            </div>
            <div class="mb-3">
              <button type="button" class="btn btn-info me-2" id="search-user">
                <i class="bi bi-search"></i> Buscar Usuário
              </button>
              <button type="submit" class="btn btn-success">
                <i class="bi bi-person-check"></i> Atribuir Cargo
              </button>
              <button
                type="button"
                class="btn btn-warning me-2"
                id="update-user-btn"
              >
                <i class="bi bi-pencil-fill"></i> Atualizar Informações
              </button>
            </div>
          </form>
          <div
            id="selected-user"
            class="user-search-result"
            style="display: none"
          >
            <div
              class="d-flex justify-content-between align-items-center info-usuario-box"
            >
              <div>
                <p class="mb-1">
                  <strong>RA:</strong> <span id="selected-user-ra"></span>
                </p>
                <p class="mb-0">
                  <strong>Email:</strong>
                  <span id="selected-user-email"></span>
                </p>
              </div>
              <div class="d-flex align-items-center gap-2">
                <span class="role-badge" id="selected-user-role"></span>
                <button
                  type="button"
                  class="btn btn-danger btn-sm"
                  id="delete-user-btn"
                >
                  <i class="bi bi-trash-fill"></i>
                </button>
              </div>
              <span class="role-badge" id="selected-user-role"></span>
            </div>
          </div>
          <div id="role-status" class="status-display" style="display: none">
            <div class="alert" id="role-alert"></div>
          </div>
        </div>
      </div>

      <div class="card admin-card mb-4">
        <div class="card-header admin-card-header">
          <h3 class="mb-0">
            <i class="bi bi-clock-history panel-icon"></i>
            Consulta de Horas PAE
          </h3>
        </div>
        <div class="card-body">
          <div id="admin-pae-form-container" style="display: none">
            <form id="pae-form-admin">
              <div class="row">
                <div class="col-md-8 mb-3">
                  <label for="pae-user-email" class="form-label"
                    >Email do Usuário a ser consultado:</label
                  >
                  <input
                    type="email"
                    class="form-control admin-form-control"
                    id="pae-user-email"
                    placeholder="digite o email do jogador..."
                    required
                  />
                </div>
                <div class="col-md-4 mb-3 d-flex align-items-end">
                  <button type="submit" class="btn btn-info w-100">
                    <i class="bi bi-search"></i> Buscar por Email
                  </button>
                </div>
              </div>
            </form>
          </div>

          <div id="player-captain-pae-container">
            <div class="row align-items-center justify-content-center">
              <div class="col-md-4 mb-3 d-flex align-items-end">
                <button
                  type="button"
                  class="btn btn-primary w-100"
                  id="buttonConsult"
                >
                  <i class="bi bi-search"></i> Consultar Minhas Horas
                </button>
              </div>
            </div>
          </div>

          <div id="pae-status" class="status-display" style="display: none">
            <div class="alert" id="pae-alert"></div>
          </div>
          <div id="pae-results" style="display: none"></div>
        </div>
      </div>

      <div
        class="card admin-card mb-4"
        id="training-schedule-card"
        style="display: none"
      >
        <div class="card-header admin-card-header">
          <h3 class="mb-0">
            <i class="bi bi-calendar-week panel-icon"></i>
            Edição de Horário de Treino
          </h3>
        </div>
        <div class="card-body">
          <button
            type="button"
            class="btn btn-primary w-100"
            id="load-schedules-btn"
          >
            <i class="bi bi-arrow-clockwise"></i> Carregar Horários
          </button>

          <div id="training-schedules-container" class="mt-3"></div>

          <div
            id="save-all-schedules-container"
            class="mt-3"
            style="display: none"
          >
            <button
              type="button"
              class="btn btn-success w-100"
              id="save-all-schedules-btn"
            >
              <i class="bi bi-check-circle"></i> Salvar Todas as Alterações
            </button>
          </div>

          <div
            id="training-status"
            class="status-display mt-3"
            style="display: none"
          >
            <div class="alert" id="training-alert"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/admin.js"></script>
  </body>
</html>
